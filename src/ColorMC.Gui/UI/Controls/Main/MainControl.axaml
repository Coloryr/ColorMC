<UserControl
    x:Class="ColorMC.Gui.UI.Controls.Main.MainControl"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:model="clr-namespace:ColorMC.Gui.UI.Model.Main"
    xmlns:setting="clr-namespace:ColorMC.Gui.Utils.LaunchSetting"
    xmlns:svg="clr-namespace:ColorMC.Gui.UI.Controls.Svg"
    xmlns:views="clr-namespace:ColorMC.Gui.UI.Controls"
    xmlns:views1="clr-namespace:ColorMC.Gui.UI.Controls.Main"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:DataType="model:MainModel"
    DragDrop.AllowDrop="True"
    mc:Ignorable="d">
    <Panel>
        <views1:Live2dControl
            Width="{Binding Live2dWidth}"
            Height="{Binding Live2dHeight}"
            HorizontalAlignment="{Binding L2dPos}"
            VerticalAlignment="{Binding L2dPos1}" />
        <DockPanel Margin="5">
            <Border
                Margin="0,0,0,3"
                Padding="3"
                BorderThickness="2"
                CornerRadius="{setting:Style ButtonCornerRadius}"
                DockPanel.Dock="Top"
                IsVisible="{Binding !IsNotGame, FallbackValue=true}">
                <Border.Styles>
                    <Style Selector="Border">
                        <Setter Property="Background" Value="{setting:Colors GroupBack}" />
                        <Setter Property="BorderBrush" Value="{setting:Colors GroupColor1}" />
                    </Style>
                    <Style Selector="Border:pointerover">
                        <Setter Property="Background" Value="{DynamicResource ExpanderHeaderBackgroundPointerOver}" />
                        <Setter Property="BorderBrush" Value="{DynamicResource ExpanderHeaderBorderBrushPointerOver}" />
                    </Style>
                </Border.Styles>
                <DockPanel>
                    <Button
                        Background="Transparent"
                        BorderThickness="0"
                        Command="{Binding ShowUser}"
                        DockPanel.Dock="Left">
                        <Panel>
                            <Border
                                Width="38"
                                Height="38"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                CornerRadius="{setting:Style ButtonCornerRadius}">
                                <Border.Background>
                                    <ImageBrush Source="{Binding Head}" Stretch="UniformToFill" />
                                </Border.Background>
                            </Border>
                            <ProgressBar
                                Width="38"
                                Height="20"
                                MinWidth="38"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                IsIndeterminate="True"
                                IsVisible="{Binding IsHeadLoad}" />
                        </Panel>
                    </Button>
                    <StackPanel
                        Margin="5,0,0,0"
                        VerticalAlignment="Center"
                        DockPanel.Dock="Left">
                        <TextBlock Text="{Binding UserId}" />
                        <TextBlock Text="{Binding UserType}" />
                    </StackPanel>
                    <StackPanel
                        HorizontalAlignment="Right"
                        DockPanel.Dock="Right"
                        Orientation="Horizontal">
                        <Button
                            Width="38"
                            Height="38"
                            Margin="0,0,3,0"
                            Command="{Binding Upgrade}"
                            CornerRadius="{setting:Style ButtonCornerRadius}"
                            IsVisible="{Binding HaveUpdate}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text73}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/upgrade.svg" />
                        </Button>
                        <Button
                            Width="38"
                            Height="38"
                            Margin="0,0,3,0"
                            Command="{Binding MusicPause}"
                            CornerRadius="{setting:Style ButtonCornerRadius}"
                            IsVisible="{Binding MusicDisplay}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text48}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/play.svg" />
                        </Button>
                        <Button
                            Width="38"
                            Height="38"
                            Margin="0,0,3,0"
                            Command="{Binding NewInfo}"
                            CornerRadius="{setting:Style ButtonCornerRadius}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text74}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/new.svg" />
                        </Button>
                        <Button
                            Width="38"
                            Height="38"
                            Margin="0,0,3,0"
                            Command="{Binding OpenNetFrp}"
                            CornerRadius="{setting:Style ButtonCornerRadius}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text72}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/net.svg" />
                        </Button>
                        <Button
                            Width="38"
                            Height="38"
                            Margin="0,0,3,0"
                            Command="{Binding OpenGuide}"
                            CornerRadius="{setting:Style ButtonCornerRadius}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text70}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/book.svg" />
                        </Button>
                        <Button
                            Width="38"
                            Height="38"
                            Margin="0,0,3,0"
                            Command="{Binding ShowSkin}"
                            CornerRadius="{setting:Style ButtonCornerRadius}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text9}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/skin.svg" />
                        </Button>
                        <Button
                            Width="38"
                            Height="38"
                            Margin="0,0,3,0"
                            Command="{Binding ShowCount}"
                            CornerRadius="{setting:Style ButtonCornerRadius}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text12}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/count.svg" />
                        </Button>
                        <Button
                            Width="38"
                            Height="38"
                            Command="{Binding ShowSetting}"
                            CornerRadius="{setting:Style ButtonCornerRadius}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text13}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/setting.svg" />
                        </Button>
                    </StackPanel>
                </DockPanel>
            </Border>
            <views:ServerMotdControl
                Margin="0,0,0,3"
                DockPanel.Dock="Top"
                IPPort="{Binding Server}"
                IsVisible="{Binding MotdDisplay, FallbackValue=true}" />
            <Panel>
                <Panel IsVisible="{Binding !IsNotGame, FallbackValue=true}">
                    <ScrollViewer Name="ScrollViewer1" VerticalAlignment="Top">
                        <ItemsControl ItemsSource="{Binding GameGroups}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <views1:GamesControl Margin="0,0,0,3" DataContext="{Binding}" />
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </ScrollViewer>
                </Panel>

                <Border
                    Padding="{setting:Style BorderPadding}"
                    Background="{setting:Colors GroupBack}"
                    BorderBrush="{setting:Colors GroupColor}"
                    BorderThickness="2"
                    CornerRadius="{setting:Style ButtonCornerRadius}"
                    IsVisible="{Binding IsNotGame}">
                    <Panel>
                        <StackPanel>
                            <Label
                                Margin="5"
                                HorizontalAlignment="Center"
                                Content="{setting:Localize MainWindow.Text1}"
                                FontSize="25" />
                            <Label
                                Margin="0,5,0,0"
                                HorizontalAlignment="Left"
                                Content="{setting:Localize MainWindow.Text7}"
                                FontSize="20" />
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Width="120"
                                    HorizontalAlignment="Left"
                                    Content="{setting:Localize MainWindow.Text2}"
                                    FontSize="20" />
                                <Button
                                    Width="120"
                                    Height="35"
                                    Command="{Binding AddUser}"
                                    Content="{setting:Localize MainWindow.Text3}" />
                            </StackPanel>
                            <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                                <Label
                                    Width="120"
                                    HorizontalAlignment="Left"
                                    Content="{setting:Localize MainWindow.Text4}"
                                    FontSize="20" />
                                <Button
                                    Width="120"
                                    Height="35"
                                    Command="{Binding SetJava}"
                                    Content="{setting:Localize MainWindow.Text5}" />
                            </StackPanel>
                            <Label
                                Margin="0,5,0,0"
                                HorizontalAlignment="Left"
                                Content="{setting:Localize MainWindow.Text6}"
                                FontSize="20" />

                        </StackPanel>
                        <StackPanel VerticalAlignment="Bottom" Orientation="Horizontal">
                            <Button
                                Width="120"
                                Height="35"
                                Command="{Binding OpenWeb1}"
                                Content="{setting:Localize SettingWindow.Tab7.Text3}" />
                            <Button
                                Width="120"
                                Height="35"
                                Margin="5,0,0,0"
                                Command="{Binding OpenWeb2}"
                                Content="{setting:Localize SettingWindow.Tab7.Text4}" />
                        </StackPanel>
                    </Panel>
                </Border>

                <Button
                    Width="40"
                    Height="40"
                    Margin="10"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Bottom"
                    Command="{Binding AddGame}"
                    CornerRadius="20"
                    IsVisible="{Binding !IsOneGame}"
                    ToolTip.Tip="{setting:Localize ToolTip.Text10}"
                    ToolTip.VerticalOffset="-30">
                    <Svg Path="/Resource/Icon/add.svg" />
                </Button>

                <Button
                    Width="40"
                    Height="40"
                    Margin="10,10,10,55"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Bottom"
                    Command="{Binding EditGame}"
                    CornerRadius="20"
                    IsVisible="{Binding EnableButton2}"
                    ToolTip.Tip="{setting:Localize ToolTip.Text12}"
                    ToolTip.VerticalOffset="-30">
                    <Svg Path="/Resource/Icon/edit.svg" />
                </Button>
                <Button
                    Width="40"
                    Height="40"
                    Margin="10,10,10,100"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Bottom"
                    Command="{Binding Launch}"
                    CornerRadius="20"
                    IsVisible="{Binding EnableButton1}"
                    ToolTip.Tip="{setting:Localize ToolTip.Text11}"
                    ToolTip.VerticalOffset="-30">
                    <Svg Path="/Resource/Icon/launch.svg" />
                </Button>

                <Panel Background="{setting:Colors BG1}" IsVisible="{Binding IsGameError, FallbackValue=false}">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <TextBlock
                            HorizontalAlignment="Center"
                            FontSize="25"
                            Text="{setting:Localize MainWindow.Info18}"
                            TextWrapping="Wrap" />
                    </StackPanel>
                </Panel>
                <Panel Background="{setting:Colors TranBack}" IsVisible="{Binding IsOneGame, FallbackValue=false}">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <views1:GameControl DataContext="{Binding OneGame}" />
                    </StackPanel>
                </Panel>
            </Panel>
        </DockPanel>

        <Panel
            Name="StackPanel1"
            Background="{setting:Colors TopBottom}"
            IsVisible="False">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <Label
                    Margin="5"
                    HorizontalAlignment="Center"
                    Content="{setting:Localize MainWindow.Control.Text6}"
                    FontSize="20" />
                <StackPanel Orientation="Horizontal">
                    <ComboBox
                        Width="200"
                        VerticalAlignment="Center"
                        ItemsSource="{Binding GroupList}"
                        SelectedItem="{Binding GroupItem}" />
                    <Button
                        Width="100"
                        Height="30"
                        Margin="5,0,0,0"
                        VerticalAlignment="Center"
                        Command="{Binding AddGroup}"
                        Content="{setting:Localize MainWindow.Control.Text7}" />
                </StackPanel>
                <StackPanel
                    Margin="0,80,0,0"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal">
                    <Button
                        Width="100"
                        Height="30"
                        Margin="0,0,30,0"
                        HorizontalAlignment="Center"
                        Command="{Binding Confirm}"
                        Content="{setting:Localize Button.Confirm}" />
                    <Button
                        Width="100"
                        Height="30"
                        HorizontalAlignment="Center"
                        Command="{Binding Cancel}"
                        Content="{setting:Localize Button.Cancel}" />
                </StackPanel>
            </StackPanel>
        </Panel>

        <views1:StartControl
            Name="Start"
            Background="White"
            IsVisible="False" />

        <Panel
            Name="Grid2"
            Background="{setting:Colors BG1}"
            IsVisible="False">
            <Label
                Name="Label1"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Content="test"
                FontSize="30" />
        </Panel>
    </Panel>
</UserControl>
