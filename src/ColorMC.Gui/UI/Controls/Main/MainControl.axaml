<UserControl
    x:Class="ColorMC.Gui.UI.Controls.Main.MainControl"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:model="clr-namespace:ColorMC.Gui.UI.Model.Main"
    xmlns:setting="clr-namespace:ColorMC.Gui.Utils.LaunchSetting"
    xmlns:svg="clr-namespace:ColorMC.Gui.UI.Controls.Svg"
    xmlns:views="clr-namespace:ColorMC.Gui.UI.Controls"
    xmlns:views1="clr-namespace:ColorMC.Gui.UI.Controls.Main"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:DataType="model:MainModel"
    DragDrop.AllowDrop="True"
    mc:Ignorable="d">
    <Panel>
        <views1:Live2dControl
            Width="{Binding Live2dWidth}"
            Height="{Binding Live2dHeight}"
            HorizontalAlignment="{Binding Mirror3}"
            VerticalAlignment="Bottom" />
        <DockPanel>
            <ScrollViewer DockPanel.Dock="{Binding Mirror1}">
                <Panel>
                    <Button
                        Width="30"
                        Height="30"
                        Margin="5,5,5,0"
                        HorizontalAlignment="{Binding Mirror2}"
                        VerticalAlignment="Top"
                        Command="{Binding SideOpen}"
                        ToolTip.Tip="{setting:Localize ToolTip.Text5}"
                        ToolTip.VerticalOffset="-30">
                        <Svg Path="{Binding SideIcon}" />
                    </Button>

                    <StackPanel>
                        <Button
                            Width="30"
                            Height="30"
                            Margin="5,50,5,0"
                            HorizontalAlignment="{Binding Mirror2}"
                            VerticalAlignment="Top"
                            Command="{Binding OpenGuide}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text70}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/book.svg" />
                        </Button>
                        <svg:SvgControl
                            Name="Svg1"
                            Width="30"
                            Margin="0,5,0,0"
                            Fill="{setting:Colors Font}"
                            Opacity="0"
                            Path="/Resource/Icon/up_arrow.svg"
                            Stroke="{setting:Colors Font}" />
                    </StackPanel>

                    <StackPanel Margin="5,110,5,0" VerticalAlignment="Center">
                        <Button
                            Width="30"
                            Height="30"
                            Margin="0,5,0,0"
                            Command="{Binding ShowUser}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text4}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/user.svg" />
                        </Button>

                        <Button
                            Width="30"
                            Height="30"
                            Margin="0,5,0,0"
                            Command="{Binding ShowSkin}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text9}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/skin.svg" />
                        </Button>

                        <Button
                            Width="30"
                            Height="30"
                            Margin="0,5,0,0"
                            Command="{Binding AddGame}"
                            IsVisible="{Binding !IsOneGame}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text10}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/add.svg" />
                        </Button>

                        <Button
                            Width="30"
                            Height="30"
                            Margin="0,5,0,0"
                            Command="{Binding Launch}"
                            IsEnabled="{Binding EnableButton1}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text11}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/launch.svg" />
                        </Button>
                        <Button
                            Width="30"
                            Height="30"
                            Margin="0,5,0,0"
                            Command="{Binding EditGame}"
                            IsEnabled="{Binding EnableButton2}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text12}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/edit.svg" />
                        </Button>

                        <Button
                            Width="30"
                            Height="30"
                            Margin="0,5,0,0"
                            Command="{Binding ShowSetting}"
                            Content="S"
                            ToolTip.Tip="{setting:Localize ToolTip.Text13}"
                            ToolTip.VerticalOffset="-30">
                            <Svg Path="/Resource/Icon/setting.svg" />
                        </Button>
                    </StackPanel>

                    <Button
                        Width="30"
                        Height="30"
                        Margin="5,0,5,5"
                        HorizontalAlignment="{Binding Mirror2}"
                        VerticalAlignment="Bottom"
                        Command="{Binding MusicPause}"
                        Content="▶️"
                        IsVisible="{Binding MusicDisplay}"
                        ToolTip.Tip="{setting:Localize ToolTip.Text48}"
                        ToolTip.VerticalOffset="-30" />
                </Panel>
            </ScrollViewer>
            <views:ServerMotdControl
                Margin="0,5,5,0"
                DockPanel.Dock="Top"
                IPPort="{Binding Server}"
                IsVisible="{Binding MotdDisplay, FallbackValue=true}" />
            <Panel Margin="{Binding Mirror4}">
                <ScrollViewer Name="ScrollViewer1" VerticalAlignment="Top">
                    <ItemsControl ItemsSource="{Binding GameGroups}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <views1:GamesControl DataContext="{Binding}" />
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
                <Panel
                    Name="Grid3"
                    Background="{setting:Colors BG1}"
                    IsVisible="{Binding IsNotGame}">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <Label
                            HorizontalAlignment="Center"
                            Content="{setting:Localize MainWindow.Text1}"
                            FontSize="30" />
                        <Label
                            HorizontalAlignment="Center"
                            Content="{setting:Localize MainWindow.Text2}"
                            FontSize="30" />
                    </StackPanel>
                </Panel>
                <Panel Background="{setting:Colors BG1}" IsVisible="{Binding IsGameError}">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <TextBlock
                            HorizontalAlignment="Center"
                            FontSize="25"
                            Text="{setting:Localize MainWindow.Info18}"
                            TextWrapping="Wrap" />
                    </StackPanel>
                </Panel>
                <Panel Background="{setting:Colors TranBack}" IsVisible="{Binding IsOneGame}">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <views1:GameControl DataContext="{Binding OneGame}" />
                    </StackPanel>
                </Panel>
            </Panel>
        </DockPanel>

        <Panel
            Name="Grid1"
            Background="{setting:Colors TopBottom}"
            IsVisible="False">
            <Border
                Name="Border1"
                HorizontalAlignment="{Binding Mirror2}"
                Background="{setting:Colors Bottom}">
                <Panel>
                    <ListBoxItem
                        Margin="0,4,0,0"
                        VerticalAlignment="Top"
                        DockPanel.Dock="Top">
                        <StackPanel Orientation="Horizontal">
                            <Svg
                                Width="24"
                                Height="24"
                                Path="{Binding SideIcon1}" />
                            <TextBlock
                                Margin="5,0,0,0"
                                VerticalAlignment="Center"
                                Text="{setting:Localize Gui.Info32}" />
                        </StackPanel>
                    </ListBoxItem>
                    <StackPanel Margin="16,0,16,0" VerticalAlignment="Center">
                        <Panel Margin="0,20,0,0">
                            <Border
                                Name="Border2"
                                Width="86"
                                Height="86"
                                BorderBrush="{setting:Colors Main}"
                                BorderThickness="3"
                                IsVisible="False" />

                            <Image
                                Name="Image1"
                                Width="80"
                                Height="80"
                                Margin="3"
                                Source="{Binding Head}"
                                ToolTip.Tip="{setting:Localize ToolTip.Text4}"
                                ToolTip.VerticalOffset="-30" />

                            <ProgressBar
                                Width="100"
                                Height="20"
                                MinWidth="100"
                                Margin="0,5,0,0"
                                IsIndeterminate="True"
                                IsVisible="{Binding IsHeadLoad}" />
                        </Panel>

                        <TextBlock
                            Width="100"
                            Margin="0,5,0,0"
                            VerticalAlignment="Center"
                            Text="{Binding UserName}"
                            TextAlignment="Center"
                            TextWrapping="Wrap" />
                        <TextBlock
                            Width="100"
                            Margin="0,0,0,5"
                            VerticalAlignment="Center"
                            Text="{Binding AuthType}"
                            TextAlignment="Center"
                            TextWrapping="Wrap" />
                        <Button
                            Width="100"
                            Height="35"
                            Command="{Binding ShowSkin}"
                            Content="{setting:Localize MainWindow.Control.Text1}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text9}"
                            ToolTip.VerticalOffset="-30" />

                        <Button
                            Width="100"
                            Height="35"
                            Margin="0,5,0,0"
                            Command="{Binding AddGame}"
                            Content="{setting:Localize MainWindow.Control.Text2}"
                            IsVisible="{Binding !IsOneGame}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text10}"
                            ToolTip.VerticalOffset="-30" />

                        <Button
                            Width="100"
                            Height="35"
                            Margin="0,5,0,0"
                            Command="{Binding OpenGuide}"
                            Content="{setting:Localize MainWindow.Control.Text3}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text70}"
                            ToolTip.VerticalOffset="-30" />
                        <Button
                            Width="100"
                            Height="35"
                            Margin="0,5,0,0"
                            Command="{Binding ShowCount}"
                            Content="{setting:Localize MainWindow.Control.Text4}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text12}"
                            ToolTip.VerticalOffset="-30" />

                        <Button
                            Width="100"
                            Height="35"
                            Margin="0,5,0,0"
                            Command="{Binding ShowSetting}"
                            Content="{setting:Localize MainWindow.Control.Text5}"
                            ToolTip.Tip="{setting:Localize ToolTip.Text13}"
                            ToolTip.VerticalOffset="-30" />
                    </StackPanel>
                </Panel>
            </Border>
        </Panel>
        <Panel
            Name="StackPanel1"
            Background="{setting:Colors TopBottom}"
            IsVisible="False">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <Label
                    Margin="5"
                    HorizontalAlignment="Center"
                    Content="{setting:Localize MainWindow.Control.Text6}"
                    FontSize="20" />
                <StackPanel Orientation="Horizontal">
                    <ComboBox
                        Width="200"
                        VerticalAlignment="Center"
                        ItemsSource="{Binding GroupList}"
                        SelectedItem="{Binding GroupItem}" />
                    <Button
                        Width="100"
                        Height="30"
                        Margin="5,0,0,0"
                        VerticalAlignment="Center"
                        Command="{Binding AddGroup}"
                        Content="{setting:Localize MainWindow.Control.Text7}" />
                </StackPanel>
                <StackPanel
                    Margin="0,80,0,0"
                    HorizontalAlignment="Center"
                    Orientation="Horizontal">
                    <Button
                        Width="100"
                        Height="30"
                        Margin="0,0,30,0"
                        HorizontalAlignment="Center"
                        Command="{Binding Confirm}"
                        Content="{setting:Localize Button.Confirm}" />
                    <Button
                        Width="100"
                        Height="30"
                        HorizontalAlignment="Center"
                        Command="{Binding Cancel}"
                        Content="{setting:Localize Button.Cancel}" />
                </StackPanel>
            </StackPanel>
        </Panel>

        <Panel
            Name="Grid2"
            Background="{setting:Colors BG1}"
            IsVisible="False">
            <Label
                Name="Label1"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Content="test"
                FontSize="30" />
        </Panel>
    </Panel>
</UserControl>
